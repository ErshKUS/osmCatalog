## osmCatalog

Это каталог тэгов OpenStreetMap.

Позиционируется в нескольких качествах:

- Источник информации о POI

  Может использоваться в программах, отображающих POI, так как
  содержит в машиночитаемом формате (JSON) иерархию объектов и их
  свойств, также информацию о том как выделить эти объекты из OSM
  данных и как их корректно отобразитьв машиночитаемом формате

- Справочник по тэгам

  В некотором смысле, альтернатива OSM wiki или страницы How_to_map_a
  оттуда

- Источник информации для генерации preset'ов для редакторов OSM

- Демонстрация разнообразия объектов, присутствующих в OSM

### Структура каталога

- catalog.json - основной файл каталога
- dictionary/dictionary_*.json - файл переводов
- poi_marker/* - иконки для POI
- check.js - скрипт для проверки каталога на отсутствие ошибок
- viewer.html, viewer/ - js просматривалка каталога

### Формат каталога

Более формальное и полное описание схемы данных каталога доступно
здесь:

http://wiki.openstreetmap.org/wiki/RU:Catalog

ниже показаны основные элементы на примерах.

#### catalog.json

Главный файл каталога - catalog.json. Это структура данных в JSON
формате, описывающая иерархию объектов, листьями которой являются
описания POI, а ветвями - категории объектов (например, "магазины").

Пример описания объекта:

```json
  {
    "name": "pharmacy",
    "parent": ["health"],
    "tags": {"amenity": "pharmacy"},
    "moretags": {
      "dispensing": {
        "class": "boolean",
        "tag": "dispensing",
        "type": "translate"
      }
    },
    "poi": true,
    "type": ["node", "area"]
  },
```

- **name** - уникальное название объекта в каталоге
- **parent** - один либо несколько объектов-родителей (как правило,
  категории, к которым принадлежит объект)
- **tags** - тэги, которыми объект обозначается в OSM (может быть
  несколько, например ```"office": "layer", "lawyer": "notary"``` -
  в этом случае на объекте должны присутствовать они все)
- **moretags** - список дополнительных тэгов - свойств объекта
  Бывают нескольких типов (type):
  - **number** - просто число, как в тэге ele
  - **period** - набор временных интервалов аналогичный тэгу
    opening_hours
  - **translate** - значение, переводимое по словарю (например,
    тэг cuisine). Для данного типа обязательно заполнение поля
    **class**, по которому в файле словаря будет найден соответствующий
    набор значений и переводов
- **poi** - флаг того, что этот объект - POI (а не категория)
- **type** - типы объектов в OSM, из которых получается данное поле.
  Возможные значения: ```node```, ```way```, ```area```, ```relation```

В примере выше описан POI-аптека в категории "Здоровье", в OSM
присутствующий в виде точек или замкнутых контуров с тэгом
amenity=pharmacy и с возможным свойством булевского типа из тэга
dispensing.

#### dictionary/dictionary_*.json

Словарь. Содержит 

### Валидация

В комплекте присутствует скрипт check.js, который проверяет
консистентность данных каталога. В частности, наличие обязательных
ключей (например, name должен существовать и быть при этом уникальным),
целостность иерархии объектов (объект, указанный родителем должен
существовать), наличие переводов и иконок для всех объектов и т.д.

Запустить скрипт можно при помощи node.js как ```node check.js``` или
через простой Makefile просто набрав ```make```.

### Просматривалка каталога

Вкомплекте поствавляется html/js просматривалка каталога. Чтобы
воспользоваться её, достаточно открыть в браузере файл viewer.html.

### Иконки

Иконки POI распространяются на условиях лицензии CC-by-SA 3.0 и
берутся с

http://mapicons.nicolasmollet.com/markers/stores/general-merchandise/supermarket/?custom_color=2580d0

======================================================================

This is an OpenStreetMap tag catalog. It aims for several usages:

- Source of POI
